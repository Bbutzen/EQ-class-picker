<!DOCTYPE html>

<!-- I always have a hard time choosing a class for each TLP launch of Everquest, so I 
		decided to make a program to help me decide. I am not a tank or puller so I did 
		not add those classes, and I was really torn between Necromancer and Shaman so
		I weighted them higher than the other classes. I've already mained a Wizard through
		GoD so I chose to not weigh them higher, but did not want to eliminate them entirely
		since I had a blast (pun intended). -->

<html>
   <head>
      <meta charset = "utf-8">
      <title>Javascript template</title>
	  <script>
		
	  </script>
   </head>

   <body>
    <h1>Everquest Class Selector</h1>
	<p>Your first class selection is: <div id = "class1"></div></p>
	<p>Your second class selection is: <div id = "class2"></div></p>
	<script>
		let classes = [0,0,0,0,0,0];//Cleric, Druid, Mage, Wizard, Necro, Shaman
		for (i = 0; i < 30; i++){//number of random numbers generated
			let ranNum = Math.floor(Math.random() * 7);
			if (ranNum < 4) {
				classes[ranNum] += 1;
			}else if (ranNum < 6){//weighted Necro
				classes[4] += 1;
			}else {//weighted Shaman
				classes[5] += 1;
			}
		}
		let className = "";
		let firstClass = parseInt(getMax());//get the index of the most frequent generated number.
		className = getClass(firstClass);//get the class name associated with that index
		document.getElementById("class1").innerHTML = "" + className;//output using innerHTML
		let secondClass = parseInt(getMax());
		className = getClass(secondClass);
		document.getElementById("class2").innerHTML = className;


		//Returns the index of the most frequent number that was generated
		function getMax() {
			let max = 0;
			let maxIndex = 0;
			for (i = 0; i < classes.length; i++) {
				if (classes[i] >= max) {
					maxIndex = i;
					max = classes[i];
				}
			}
			classes[maxIndex] = 0;//reset the class to 0 to allow another class to be selected
			return maxIndex;
		}
		
		//Returns the class name associated with the index
		function getClass(index) {
			switch(index) {
				case 0:
					return "Cleric";
					break;
				case 1:
					return "Druid";
					break;
				case 2:
					return "Magician";
					break;
				case 3:
					return "Wizard";
					break;
				case 4: 
					return "Necromancer";
					break;
				case 5: 
					return "Shaman";
					break;
			}
		}
	</script>
   </body>
</html>

